# Beyond GenServer

There are two more OTP compliant workers that have not been talked about yet:

1. Tasks: useful for running one-off jobs
2. Agents: manage state and provide concurrent access to it

In some cases an ETS table can be the better choice between a GenServer and an
Agent.

## Tasks

Tasks differ from GenServers in the sense that Tasks just do a job and terminate
whereas GenServers are a long running process.

Usually they are asynchronous but there is a way to make them synchronous by
using awaited tasks.

### Awaited tasks

An awaited tasks is a process that executes some function, sends the result back
to the caller and then terminates.

In order to do this you can use `Task.async/1` to return a struct that describes
the running process and then use `Task.await/1` to return the value of the
process. There is a default time to wait but it can be changed.

Using this the code will wait for the task to be completed which makes the
result deterministic (the output order will be the same as the order of 
execution).

If there are any failures in the Task happening it will crash all of the process
and return an error. This will happen unless the parent process is trapping
exits.

There is a second way to do this and it by individually handling errors, which
can be done with `Task.async_stream/3`.

### Non awaited tasks






































